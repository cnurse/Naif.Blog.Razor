@using Naif.Blog.Models

<article class="post">
    <header>
        <div class="row">
            <div class="col-lg-11">
                <h2>@Post.Title</h2>
            </div>
            <div class="col-lg-1">
                <h2>
                    <a class="link" href="@EditUrl"><i class="bi bi-pencil"></i></a>
                    <a class="link" href="#" data-bs-toggle="modal" data-bs-target="#deleteConfirmModal"><i class="bi bi-trash"></i></a>
                    <ConfirmModal Name="deleteConfirmModal"
                                  Title="Delete Post?"
                                  Text="This action is irreversible. Are you sure you want to delete this post?"
                                  CloseText="Close"
                                  ConfirmText="Confirm Delete"
                                  Url="@DeleteUrl"></ConfirmModal>
                </h2>
            </div>
        </div>
        <div>
            Category:
            @foreach (var category in Post.Categories)
            {
                var categoryUrl = $"{CategoryUrl}/{category.Name}";
                <span><a href="@categoryUrl">@category.Name</a></span>
            }
        </div>
        <div>
            Tags:
            @foreach (var tag in Post.Tags)
            {
                var tagUrl = $"{TagUrl}/{tag.Name}";
                <span><a href="@tagUrl">@tag.Name</a></span>
            }
        </div>
        <div>Last Modified: @Post.LastModified.ToString("MMM d yyyy")</div>
    </header>
    <section>
        @((MarkupString)Post.Content)
    </section>
</article>

@code {
       
    [Parameter]
    public Post Post { get; set; }
    
    [Parameter]
    public string CategoryUrl { get; set; }
    
    [Parameter]
    public string DeleteUrl { get; set; }

    [Parameter]
    public string EditUrl { get; set; }

    [Parameter]
    public string TagUrl { get; set; }

}